# 1. Основы HTTP в Go

## Пакет `net/http` - обзор возможностей

Пакет `net/http` - это стандартная библиотека Go для работы с HTTP. Основные компоненты:

- **Сервер:** `http.Server`, `http.ListenAndServe`
- **Клиент:** `http.Client`, `http.Get`, `http.Post`
- **Обработчики:** `http.Handler`, `http.HandlerFunc`
- **Запросы/ответы:** `http.Request`, `http.Response`

## Простейший HTTP сервер

```go
package main

import (
    "fmt"
    "net/http"
)

func main() {
    // Простейший обработчик
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        fmt.Fprintf(w, "Привет из Go сервера!")
    })
    
    // Запускаем сервер на порту 8080
    fmt.Println("Сервер запущен на http://localhost:8080")
    http.ListenAndServe(":8080", nil)
}
```

**Что происходит:**
1. `http.HandleFunc` регистрирует функцию для обработки запросов к пути "/"
2. `http.ListenAndServe` запускает сервер и блокирует выполнение
3. При запросе вызывается наша функция с `ResponseWriter` и `Request`

## Простейший HTTP клиент

```go
package main

import (
    "fmt"
    "io"
    "net/http"
)

func main() {
    // GET запрос
    resp, err := http.Get("http://localhost:8080")
    if err != nil {
        panic(err)
    }
    defer resp.Body.Close()
    
    // Читаем тело ответа
    body, err := io.ReadAll(resp.Body)
    if err != nil {
        panic(err)
    }
    
    fmt.Printf("Статус: %s\n", resp.Status)
    fmt.Printf("Тело: %s\n", string(body))
}
```

**Что происходит:**
1. `http.Get` отправляет GET запрос на указанный URL
2. Возвращается `*http.Response` с данными ответа
3. `resp.Body` - это `io.ReadCloser`, нужно обязательно закрыть
4. Читаем содержимое через `io.ReadAll`

## Ключевые моменты

**ResponseWriter (`w`):**
- Интерфейс для записи ответа клиенту
- `w.Write()` - записать данные
- `w.WriteHeader()` - установить HTTP статус
- `w.Header()` - работа с заголовками

**Request (`r`):**
- Содержит всю информацию о запросе
- `r.Method` - HTTP метод (GET, POST, etc.)
- `r.URL.Path` - путь запроса
- `r.Body` - тело запроса

---
